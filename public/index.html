<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scribblemon Showdown</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Edu+SA+Beginner&family=Nanum+Pen+Script&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <div id="login-page" v-if="page == 'login'">
            <h1>WELCOME TO SCRIBBLEMON!</h1><br><br>
            <div id="login-fields">
                <input type="text" placeholder="Username" v-model="usernameInput">
                <input type="password" placeholder="Password" v-model="passwordInput">
            </div><br>
            <div id="login-buttons">
                <button v-on:click="postSession" id="login-button">Log In</button>
                <button v-on:click="postUser" id="signup-button">Sign Up</button>
            </div>
        </div>
        <div id="home-page" v-if="page == 'home'">
            <div id="topbar">
                <h2>SCRIBBLEMON SHOWDOWN</h2>
                <p>{{ loggedInUser}}</p>
            </div>
            <div id="home-content">
                <div id="sidebar">
                    <button v-on:click="showBattle">PLAY</button><br>
                    <button v-on:click="showTeambuilder">TEAMBUILDER</button><br>
                    <button v-on:click="showChat">CHAT</button><br>
                    <button v-on:click="showCompendium">COMPENDIUM</button><br>
                    <button v-on:click="showSettings">SETTINGS</button><br>
                    <button v-on:click="showLogin">LOG OUT</button>
                </div>
                <div class="subpage" id="subpage-play" v-if="subpage == 'play'">TEST PLAY</div>
                <!-- START TEAMBUILDER HTML -->
                <div class="subpage" id="subpage-teambuilder" v-if="subpage == 'teambuilder'">
                    <div id="existingTeams" v-if="tbView == 'existingTeams'">
                        <div v-for="team in userTeams">
                            <button class="existingTeamsButton" v-on:click="tbViewTeam(team)">{{ team.name }}</button>
                            <button class="deleteTeamButton" v-on:click="deleteTeam(team._id)">Delete Team</button>
                        </div>
                        <button class="existingTeamsButton" id="newTeam" v-on:click="tbShowMons">New Team</button>
                    </div>
                    <div id="tb-topbar" v-if="tbView != 'existingTeams'">
                        <div>
                            <input type="text" placeholder="Nickname" v-model="tbNameInput">
                            <img id="tb-sprite" :src="'/images/'+tbMon.id+'.png'">
                            <input type="text" placeholder="Scribblemon" v-on:click="tbShowMons" v-model="tbMon.id">
                        </div>
                        <div id="tb-inputs-container">
                            <input class="tb-input" type="text" placeholder="Move" v-for="move in tbLearnedMoves" v-model="move">
                        </div>
                        <div id="tbRightmost">
                            <button id="tbSaveMon" v-on:click="tbSaveMon">Save Mon</button>
                            <p id="tbErrorMessage">{{ tbErrorMessage }}</p>
                            <button id="tbSubmitTeam" v-on:click="tbShowSubmit">Submit Team</button>
                        </div>
                    </div>
                    <div id="tb-botbar">
                        <div id="tbSavedMonButtons">
                            <button class="tbSavedMon" v-on:click="tbDisplaySavedMon(mon)" v-for="mon in tbWorkingTeam">{{ mon.name }}</button>
                        </div>
                        <div v-if="tbView == 'mons'" class="list">
                            <button class="tbMon" v-for="mon in allMons" v-on:click="tbSetMon(mon)">
                                {{ mon.name }} : {{ mon.type }}
                                <span class="tbStats">
                                    HP: {{ mon.stats.hp }}     STA: {{ mon.stats.stamina }}     ATK: {{ mon.stats.attack }}     DEF: {{ mon.stats.defense }}     SPD: {{ mon.stats.speed }}
                                </span>     
                            </button>
                        </div>
                        <div v-if="tbView == 'moves'" class="list">
                            <button class="tbMove" v-for="move in tbLearnableMoves" v-on:click="tbPushMove(move)">
                                {{ move.name }} : {{ move.type }}
                                <span class="tbMoveStats">
                                    Power: {{ move.power }}     Stamina Cost: {{ move.staminaCost }}
                                </span>
                            </button>
                        </div>
                        <div id="tbPost" v-if="tbView == 'tbPost'" class="list">
                            <input type="text" v-model="tbTeamNameInput" placeholder="Team Name">
                            <button v-on:click="tbPostTeam">Save Team</button>
                        </div>
                    </div>

                </div>
                <!-- END TEAMBUILDER HTML -->
                <div class="subpage" id="subpage-chat" v-if="subpage == 'chat'">TEST CHAT</div>
                <div class="subpage" id="subpage-compendium" v-if="subpage == 'compendium'">
                    <div>
                        <div id="compendium" v-for="mon in allMons">
                            <button v-on:click="showMonInfo(mon)">{{ mon.name }}</button>
                        </div>
                    </div>
                    <mon v-bind:mon="selectedMon" v-if="showMon"></mon>

                </div>
                <div class="subpage" id="subpage-settings" v-if="subpage == 'settings'">TEST SETTINGS</div>
            </div>

        </div>
        <div id="battle-page" v-if="page == 'battle'">
            <div id="battle-container">
                <div id="sprite-box">
                    <!-- This sprite box will be populated with images representing both mons, their HP, and their Stamina -->
                    <img id="player1-mon" :src="'/images/'+activeMon+'.png'">
                    <img id="AI-mon" :src="'/images/'+AIMon+'.png'">
                </div>
                <div id="move-container"> <!-- Make this a v-for once we have an array containing all moves -->
                    <button class="move" v-for="move in monMove">{{ move.name }}</button>
                </div>
                <div id="mon-container" > <!-- Make this a v-for once we have an array containing all possible switches -->
                    <button v-for="mon in battleMons" class="mon">{{ mon.name }}</button> 
                </div>
            </div>
            
            <div id="log-container">
                <div class="turn"></div> <!-- Make this a v-for once we have an array containing all turns -->
                <div class="log-entry"></div> <!-- Make this a v-for once we have an array containing all actions -->
            </div>
        </div>

    </div>


    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="app.js"></script>
</body>
</html>